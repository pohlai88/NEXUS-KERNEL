[**@aibos/kernel**](../README.md)

***

[@aibos/kernel](../README.md) / ManifestSchema

# Variable: ManifestSchema

> `const` **ManifestSchema**: `ZodObject`\<\{ `created_at`: `ZodOptional`\<`ZodString`\>; `created_by`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `definition`: `ZodObject`\<\{ `allowlist`: `ZodArray`\<`ZodEnum`\<\[[`ConceptId`](../type-aliases/ConceptId.md), `...ConceptId[]`\]\>, `"many"`\>; `description`: `ZodOptional`\<`ZodString`\>; `metadata`: `ZodOptional`\<`ZodRecord`\<`ZodString`, `ZodUnknown`\>\>; `name`: `ZodString`; `policies`: `ZodOptional`\<`ZodRecord`\<`ZodEnum`\<\[[`ConceptId`](../type-aliases/ConceptId.md), `...ConceptId[]`\]\>, `ZodObject`\<\{ `business_reference`: `ZodOptional`\<`ZodObject`\<\{ `notes`: ...; `reference`: ...; `standard`: ...; \}, `"strip"`, `ZodTypeAny`, \{ `notes?`: ...; `reference`: ...; `standard`: ...; \}, \{ `notes?`: ...; `reference`: ...; `standard`: ...; \}\>\>; `crud`: `ZodObject`\<\{ `create`: `ZodDefault`\<...\>; `delete`: `ZodDefault`\<...\>; `read`: `ZodDefault`\<...\>; `restore`: `ZodDefault`\<...\>; `update`: `ZodDefault`\<...\>; \}, `"strip"`, `ZodTypeAny`, \{ `create`: ...[]; `delete`: ...[]; `read`: ...[]; `restore`: ...[]; `update`: ...[]; \}, \{ `create?`: ... \| ...; `delete?`: ... \| ...; `read?`: ... \| ...; `restore?`: ... \| ...; `update?`: ... \| ...; \}\>; `integrity`: `ZodOptional`\<`ZodObject`\<\{ `immutable_fields`: ...; `required_relations`: ...; \}, `"strip"`, `ZodTypeAny`, \{ `immutable_fields`: ...; `required_relations`: ...; \}, \{ `immutable_fields?`: ...; `required_relations?`: ...; \}\>\>; `workflow`: `ZodOptional`\<`ZodObject`\<\{ `initial`: ...; `requires_comment`: ...; `states`: ...; `transitions`: ...; \}, `"strip"`, `ZodTypeAny`, \{ `initial`: ...; `requires_comment?`: ...; `states`: ...; `transitions`: ...; \}, \{ `initial`: ...; `requires_comment?`: ...; `states`: ...; `transitions`: ...; \}\>\>; \}, `"strip"`, `ZodTypeAny`, \{ `business_reference?`: \{ `notes?`: ... \| ...; `reference`: `string`; `standard`: ... \| ... \| ... \| ...; \}; `crud`: \{ `create`: `string`[]; `delete`: `string`[]; `read`: `string`[]; `restore`: `string`[]; `update`: `string`[]; \}; `integrity?`: \{ `immutable_fields`: ...[]; `required_relations`: ...[]; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: ... \| ...; `states`: `string`; `transitions`: `Record`\<..., ...\>; \}; \}, \{ `business_reference?`: \{ `notes?`: ... \| ...; `reference`: `string`; `standard`: ... \| ... \| ... \| ...; \}; `crud`: \{ `create?`: ...[]; `delete?`: ...[]; `read?`: ...[]; `restore?`: ...[]; `update?`: ...[]; \}; `integrity?`: \{ `immutable_fields?`: ... \| ...; `required_relations?`: ... \| ...; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: ... \| ...; `states`: `string`; `transitions`: `Record`\<..., ...\>; \}; \}\>\>\>; \}, `"strip"`, `ZodTypeAny`, \{ `allowlist`: [`ConceptId`](../type-aliases/ConceptId.md)[]; `description?`: `string`; `metadata?`: `Record`\<`string`, `unknown`\>; `name`: `string`; `policies?`: `Partial`\<`Record`\<[`ConceptId`](../type-aliases/ConceptId.md), \{ `business_reference?`: \{ `notes?`: ... \| ...; `reference`: `string`; `standard`: ... \| ... \| ... \| ...; \}; `crud`: \{ `create`: `string`[]; `delete`: `string`[]; `read`: `string`[]; `restore`: `string`[]; `update`: `string`[]; \}; `integrity?`: \{ `immutable_fields`: ...[]; `required_relations`: ...[]; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: ... \| ...; `states`: `string`; `transitions`: `Record`\<..., ...\>; \}; \}\>\>; \}, \{ `allowlist`: [`ConceptId`](../type-aliases/ConceptId.md)[]; `description?`: `string`; `metadata?`: `Record`\<`string`, `unknown`\>; `name`: `string`; `policies?`: `Partial`\<`Record`\<[`ConceptId`](../type-aliases/ConceptId.md), \{ `business_reference?`: \{ `notes?`: ... \| ...; `reference`: `string`; `standard`: ... \| ... \| ... \| ...; \}; `crud`: \{ `create?`: ...[]; `delete?`: ...[]; `read?`: ...[]; `restore?`: ...[]; `update?`: ...[]; \}; `integrity?`: \{ `immutable_fields?`: ... \| ...; `required_relations?`: ... \| ...; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: ... \| ...; `states`: `string`; `transitions`: `Record`\<..., ...\>; \}; \}\>\>; \}\>; `deleted_at`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `deleted_by`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `id`: `ZodString`; `is_active`: `ZodDefault`\<`ZodBoolean`\>; `is_current`: `ZodDefault`\<`ZodBoolean`\>; `kernel_snapshot_id`: `ZodString`; `layer`: `ZodEnum`\<\[`"L1"`, `"L2"`, `"L3"`\]\>; `parent_manifest_id`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `replaced_by_id`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `target_id`: `ZodString`; `target_type`: `ZodEnum`\<\[`"domain"`, `"cluster"`, `"tenant"`\]\>; `updated_at`: `ZodOptional`\<`ZodString`\>; `updated_by`: `ZodOptional`\<`ZodNullable`\<`ZodString`\>\>; `version`: `ZodString`; \}, `"strip"`, `ZodTypeAny`, \{ `created_at?`: `string`; `created_by?`: `string` \| `null`; `definition`: \{ `allowlist`: [`ConceptId`](../type-aliases/ConceptId.md)[]; `description?`: `string`; `metadata?`: `Record`\<`string`, `unknown`\>; `name`: `string`; `policies?`: `Partial`\<`Record`\<[`ConceptId`](../type-aliases/ConceptId.md), \{ `business_reference?`: \{ `notes?`: `string`; `reference`: `string`; `standard`: `"INTERNAL"` \| `"IFRS"` \| `"MFRS"` \| `"LOCAL"`; \}; `crud`: \{ `create`: `string`[]; `delete`: `string`[]; `read`: `string`[]; `restore`: `string`[]; `update`: `string`[]; \}; `integrity?`: \{ `immutable_fields`: `string`[]; `required_relations`: [`ConceptId`](../type-aliases/ConceptId.md)[]; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: `Record`\<..., ...\>; `states`: `string`; `transitions`: `Record`\<`string`, ...[]\>; \}; \}\>\>; \}; `deleted_at?`: `string` \| `null`; `deleted_by?`: `string` \| `null`; `id`: `string`; `is_active`: `boolean`; `is_current`: `boolean`; `kernel_snapshot_id`: `string`; `layer`: `"L1"` \| `"L2"` \| `"L3"`; `parent_manifest_id?`: `string` \| `null`; `replaced_by_id?`: `string` \| `null`; `target_id`: `string`; `target_type`: `"domain"` \| `"cluster"` \| `"tenant"`; `updated_at?`: `string`; `updated_by?`: `string` \| `null`; `version`: `string`; \}, \{ `created_at?`: `string`; `created_by?`: `string` \| `null`; `definition`: \{ `allowlist`: [`ConceptId`](../type-aliases/ConceptId.md)[]; `description?`: `string`; `metadata?`: `Record`\<`string`, `unknown`\>; `name`: `string`; `policies?`: `Partial`\<`Record`\<[`ConceptId`](../type-aliases/ConceptId.md), \{ `business_reference?`: \{ `notes?`: `string`; `reference`: `string`; `standard`: `"INTERNAL"` \| `"IFRS"` \| `"MFRS"` \| `"LOCAL"`; \}; `crud`: \{ `create?`: `string`[]; `delete?`: `string`[]; `read?`: `string`[]; `restore?`: `string`[]; `update?`: `string`[]; \}; `integrity?`: \{ `immutable_fields?`: ...[]; `required_relations?`: ...[]; \}; `workflow?`: \{ `initial`: `string`; `requires_comment?`: `Record`\<..., ...\>; `states`: `string`; `transitions`: `Record`\<`string`, ...[]\>; \}; \}\>\>; \}; `deleted_at?`: `string` \| `null`; `deleted_by?`: `string` \| `null`; `id`: `string`; `is_active?`: `boolean`; `is_current?`: `boolean`; `kernel_snapshot_id`: `string`; `layer`: `"L1"` \| `"L2"` \| `"L3"`; `parent_manifest_id?`: `string` \| `null`; `replaced_by_id?`: `string` \| `null`; `target_id`: `string`; `target_type`: `"domain"` \| `"cluster"` \| `"tenant"`; `updated_at?`: `string`; `updated_by?`: `string` \| `null`; `version`: `string`; \}\>

Defined in: [src/manifest.ts:287](https://github.com/pohlai88/NEXUS-KERNEL/blob/536b1ee182a1f0e1cca915c7ff0a36317c6af611/src/manifest.ts#L287)

Manifest - Full manifest record as stored in `sys_manifests` table

## Example

```typescript
const manifest: Manifest = {
  id: "bb47987f-0217-4b42-9fcb-132b85152d67",
  layer: "L1",
  target_id: "VPM",
  target_type: "domain",
  kernel_snapshot_id: "sha256:abc123...",
  version: "1.0.0",
  is_active: true,
  is_current: true,
  definition: { ... },
};
```
